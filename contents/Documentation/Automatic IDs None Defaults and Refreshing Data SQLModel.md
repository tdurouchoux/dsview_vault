---
already_read: true
link: https://sqlmodel.tiangolo.com/tutorial/automatic-id-none-refresh/
read_priority: 1
relevance: 0
source: The Batch
tags:
- Data_Engineering
- Development_tool
type: Content
upload_date: '2024-11-10'
---

https://sqlmodel.tiangolo.com/tutorial/automatic-id-none-refresh/
## Summary

The content discusses the behavior of SQLModel, a Python library for interacting with databases, focusing on automatic IDs, None defaults, and refreshing data. Here are the key points:

- **Automatic IDs and None Defaults**: The `id` field is set as a primary key and can be `None` in Python code but not in the database. This is handled using `int | None` type annotation and `Field(default=None)`.

- **Creating Hero Instances**: When creating new instances of the `Hero` class, the `id` is initially `None` and is automatically generated by the database upon committing the session.

- **Session Behavior**: The session manages the state of objects and their interaction with the database. Objects are marked as "expired" after a commit, meaning their data is not immediately available until refreshed.

- **Refreshing Data**: Data can be refreshed explicitly using `session.refresh(object)` or implicitly when accessing an object's attributes. This ensures that the object's data is synchronized with the database.

- **Printing Data**: Printing an entire object does not trigger a refresh, but accessing individual attributes does. This behavior is managed by SQLModel to ensure data consistency.

- **Session Closure**: After closing the session, objects retain their data, and no additional refreshes are needed for previously accessed attributes.

- **Recap**: The content emphasizes understanding the interaction between Python objects, the session, and the database, highlighting the importance of data synchronization and the role of the session in managing this process.

The tutorial provides a comprehensive overview of how SQLModel handles data persistence and synchronization, with practical examples and detailed explanations.
## Links

- [SQLModel GitHub Repository](https://github.com/fastapi/sqlmodel) : The GitHub repository for SQLModel, a library that combines SQLAlchemy for database operations and Pydantic for data validation, providing an easy way to interact with databases in Python.

## Topics

![[topics/Library/SQLModel)]]